{"version":3,"sources":["Helpers/CrusadeUnitHelper.ts","CommonFields/UnitSummaryCard.tsx","CommonFields/UnitSummary.tsx","Constants.ts","CommonFields/EditOutOfActions.tsx","CommonFields/FormInput.tsx","CommonFields/ReadonlyRow.tsx","Report/ReportUnit.tsx","CommonFields/FormButtons.tsx","Report/ReportUnits.tsx","Report/ReportSummary.tsx","Report/Report.tsx","CommonFields/FormNameEffectInputs.tsx","EditUnit.tsx","CommonFields/Header.tsx","UnitDisplay.tsx","EditArmy.tsx","Helpers/Clipboard.ts","CrusadeArmyRoster.tsx","ArmiesList.tsx","App.tsx","serviceWorker.ts","index.tsx","Resources/Icons/DeleteIcon.svg","Resources/Icons/EditIcon.svg","Resources/Icons/CopyIcon.svg"],"names":["CalculateTotalExperience","unit","experienceLossByOutOfAction","outOfAction","forEach","ooa","isActive","xp","totalExperience","battleParticipation","markedForGreatness","agendaXp","Math","floor","kills","CalculateCrusadePoints","warlordTraitCrusadePoints","warlordTrait","battleHonourCrusadePoints","battleHonours","length","map","bh","crusadePoints","reduce","total","newvalue","outOfActionCrusadePoints","battleScar","NameEffectsCard","props","cardContent","nameEffects","nameEffect","push","Card","Subtitle","className","name","Text","effect","Row","Col","Header","header","UnitSummaryRows","BattleHonourRank","useState","isShowingExperience","setIsShowingExperience","warlordTraitDisplay","battleHonourDisplay","undefined","battleHonour","battleTrait","battleScarsDisplay","battleScars","experienceDetails","onClick","EditOutOfActions","addOutOfAction","e","preventDefault","editUnit","u","outOfActions","editOutOfAction","edit","index","newOutOfAction","splice","outOfActionDisplay","Form","Control","type","onChange","o","target","value","placeholder","Number","parseInt","ThemeContext","Consumer","Group","as","controlId","Label","Button","variant","block","style","borderColor","color","FormInput","formName","xs","resetFirstColSpan","inputType","placeHolder","ReadOnlyRow","firstColumn","label","secondColumn","ReportUnit","initialExperience","rank","Blooded","BattleHardened","Heroic","Legendary","event","find","b","updateUnit","borderTop","FormButtons","tertiaryButtonOnClick","tertiaryButtonName","size","secondaryButtonOnClick","secondaryButtonName","primaryButtonOnClick","backgroundColor","primaryButtonName","ReportUnits","crusadeArmy","units","setUnits","requisitionPoints","setRequisitionPoints","unitsDisplay","battleRosterUnitIds","includes","i","newUnits","findIndex","powerLevel","updateArmy","goBack","ReportSummary","isContinuing","setIsContinuing","unitSummaries","id","UnitSummary","key","Report","selectedUnitIds","setSelectedUnitIds","display","unitId","newKeys","filter","selectUnit","Check","Input","checked","position","children","fontWeight","selectedPowerLevel","FormNameEffectInputs","formHeaderLabel","onNameChange","onEffectChange","EditUnit","isNewUnit","setUnit","save","stopPropagation","saveUnit","func","newUnit","newTotalExperience","onSubmit","src","DeleteIcon","alt","window","confirm","deleteUnit","editIcon","onEdit","EditIcon","headerText","UnitDisplay","isEdittingUnit","setIsEdittingUnit","useMemo","EditArmy","isNewArmy","army","setArmy","editArmy","newArmy","saveArmy","handleDeleteArmy","a","detachmentTrait","width","c","traitColor","hex","colors","CopyIcon","navigator","clipboard","jsonCrusadeArmy","JSON","stringify","writeText","then","alert","catch","CopyToClipboard","rows","parse","CrusadeArmyRoster","edittingUnit","setEdittingUnit","isEditting","setIsEditting","isReporting","setIsReporting","setUnitsDisplay","useEffect","highestRank","BattleReady","whiteSpace","deleteArmy","existingIndex","unitsTableDisplay","Table","striped","bordered","hover","detachmentTraitCard","highestId","notes","ArmiesList","edittingArmy","setEdittingArmy","crusadeArmies","setCrusadeArmies","selectedCrusadeArmy","setSelectedCrusadeArmy","crusadeArmiesDisplay","setCrusadeArmiesDisplay","storageCrusadeArmies","localStorage","getItem","crusadeArmyIndex","setItem","selectedArmy","sca","deletingArmy","border","Body","Title","Provider","overflow","md","React","createContext","App","Container","fluid","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","error","console","message","module","exports"],"mappings":"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","file":"static/js/main.35616073.chunk.js","sourcesContent":["import { ICrusadeUnit } from \"../Constants\";\r\n\r\nexport function CalculateTotalExperience(unit: ICrusadeUnit) {\r\n    let experienceLossByOutOfAction = 0;\r\n    unit.outOfAction && unit.outOfAction.forEach(ooa => {\r\n        if (ooa.isActive && ooa.xp) {\r\n            experienceLossByOutOfAction += ooa.xp\r\n        }\r\n    })\r\n\r\n    const totalExperience = unit.battleParticipation\r\n        + unit.markedForGreatness * 3\r\n        + unit.agendaXp\r\n        + Math.floor(unit.kills / 3)\r\n        - experienceLossByOutOfAction;\r\n\r\n    return totalExperience > 0 ? totalExperience : 0;\r\n}\r\n\r\n\r\nexport function CalculateCrusadePoints(unit: ICrusadeUnit) {\r\n    const warlordTraitCrusadePoints = unit.warlordTrait ? 1 : 0;\r\n    const battleHonourCrusadePoints = unit.battleHonours && unit.battleHonours.length > 0 ?\r\n        unit.battleHonours\r\n            ?.map(bh => bh.crusadePoints)\r\n            ?.reduce((total, newvalue) => {\r\n                return (total ?? 0) + newvalue;\r\n            })\r\n        : 0;\r\n\r\n    let outOfActionCrusadePoints = 0;\r\n    unit.outOfAction && unit.outOfAction.forEach(ooa => {\r\n        if (ooa.battleScar) {\r\n            outOfActionCrusadePoints--;\r\n        }\r\n    });\r\n\r\n    return warlordTraitCrusadePoints + battleHonourCrusadePoints + outOfActionCrusadePoints;\r\n}","import React from \"react\";\r\nimport { INameEffect } from \"../Constants\";\r\nimport { Card, Row, Col } from \"react-bootstrap\";\r\n\r\ninterface INameEffectCardProps {\r\n    header: string;\r\n    nameEffects: INameEffect[];\r\n}\r\n\r\nfunction NameEffectsCard(props: INameEffectCardProps): JSX.Element | null {\r\n    const cardContent: JSX.Element[] = [];\r\n\r\n    props.nameEffects.forEach(nameEffect => {\r\n        cardContent.push(\r\n            <>\r\n                <Card.Subtitle className=\"mt-1 ml-2\">{nameEffect.name}</Card.Subtitle>\r\n                <Card.Text className=\"ml-2\">{nameEffect.effect}</Card.Text>\r\n            </>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <Row className=\"mb-3\">\r\n            <Col>\r\n                <Card>\r\n                    <Card.Header className=\"py-1\">\r\n                        {props.header}\r\n                    </Card.Header>\r\n                    {cardContent}\r\n                </Card>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default NameEffectsCard","import React, { useState } from \"react\";\r\nimport { CalculateTotalExperience } from \"../Helpers/CrusadeUnitHelper\";\r\nimport { ICrusadeUnit, INameEffect } from \"../Constants\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport NameEffectsCard from \"./UnitSummaryCard\";\r\n\r\ninterface IUnitSummaryRowsProps {\r\n    unit: ICrusadeUnit;\r\n}\r\n\r\nfunction UnitSummaryRows(props: IUnitSummaryRowsProps): JSX.Element | null {\r\n    const [isShowingExperience, setIsShowingExperience] = useState<boolean>(false);\r\n\r\n    function toggleShowExperience(): void {\r\n        setIsShowingExperience(!isShowingExperience);\r\n    }\r\n\r\n    const totalExperience = CalculateTotalExperience(props.unit);\r\n\r\n    let warlordTraitDisplay = null\r\n    if (props.unit.warlordTrait) {\r\n        warlordTraitDisplay = (\r\n            <NameEffectsCard\r\n                header=\"Warlord Trait\"\r\n                nameEffects={[props.unit.warlordTrait]}\r\n            />\r\n        )\r\n    }\r\n\r\n    let battleHonourDisplay = undefined\r\n    if (props.unit.battleHonours && props.unit.battleHonours.length > 0) {\r\n        const battleHonours: INameEffect[] = []\r\n        props.unit.battleHonours.forEach(battleHonour => {\r\n            battleHonour.battleTrait && battleHonours.push(battleHonour.battleTrait)\r\n        });\r\n\r\n        battleHonourDisplay = (\r\n            <NameEffectsCard\r\n                header=\"Battle Honours\"\r\n                nameEffects={battleHonours}\r\n            />\r\n        )\r\n    }\r\n\r\n\r\n    let battleScarsDisplay: JSX.Element | undefined = undefined\r\n    if (props.unit.outOfAction && props.unit.outOfAction.length > 0) {\r\n        const battleScars: INameEffect[] = []\r\n        props.unit.outOfAction.forEach(outOfAction => {\r\n            if (!outOfAction.isActive || !outOfAction.battleScar) {\r\n                return;\r\n            }\r\n            battleScars.push(outOfAction.battleScar)\r\n        })\r\n\r\n        battleScarsDisplay = (\r\n            <NameEffectsCard\r\n                header=\"Battle Scars\"\r\n                nameEffects={battleScars}\r\n            />\r\n        )\r\n    }\r\n\r\n    let experienceDetails = null;\r\n    if (isShowingExperience) {\r\n        experienceDetails = (\r\n            <>\r\n                <Row className=\"mb-2\">\r\n                    <Col>\r\n                        Battle Participation\r\n                    </Col>\r\n                    <Col>\r\n                        {props.unit.battleParticipation}\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"mb-2\">\r\n                    <Col>\r\n                        Marked For Greatness\r\n                    </Col>\r\n                    <Col>\r\n                        {props.unit.markedForGreatness}\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"mb-2\">\r\n                    <Col>\r\n                        Agenda\r\n                    </Col>\r\n                    <Col>\r\n                        {props.unit.agendaXp}\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"mb-2\">\r\n                    <Col>\r\n                        Kills\r\n                    </Col>\r\n                    <Col>\r\n                        {props.unit.kills}\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {warlordTraitDisplay}\r\n            {battleHonourDisplay}\r\n            {battleScarsDisplay}\r\n            <Row className=\"mb-2\" onClick={toggleShowExperience}>\r\n                <Col>\r\n                    Total Experience\r\n                </Col>\r\n                <Col>\r\n                    {totalExperience}\r\n                </Col>\r\n            </Row>\r\n            {experienceDetails}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UnitSummaryRows;","export const CRUSADE_ARMIES_STORAGE_KEY = \"crusadeArmies\";\r\n\r\nexport interface ICrusadeUnit {\r\n    id: number,\r\n    name: string;\r\n    crusadePoints: number;\r\n    powerLevel: number;\r\n    markedForGreatness: number;\r\n    kills: number;\r\n    battleParticipation: number;\r\n    agendaXp: number;\r\n    notes: string;\r\n    battleHonours: IBattleHonour[];\r\n    outOfAction: IOutOfAction[];\r\n    warlordTrait?: INameEffect;\r\n}\r\n\r\ninterface IBattleHonour {\r\n    crusadePoints: number;\r\n    battleTrait?: INameEffect;\r\n    rank: BattleHonourRank;\r\n}\r\n\r\nexport enum BattleHonourRank {\r\n    BattleReady = \"Battle-Ready\",\r\n    Blooded = \"Blooded\",\r\n    BattleHardened = \"Battle-Hardened\",\r\n    Heroic = \"Heroic\",\r\n    Legendary = \"Legendary\"\r\n}\r\n\r\nexport interface IOutOfAction {\r\n    battleScar?: INameEffect;\r\n    xp?: number;\r\n    isActive: boolean;\r\n}\r\n\r\nexport interface INameEffect {\r\n    name?: string;\r\n    effect?: string;\r\n}\r\n\r\nexport interface ICrusadeArmy {\r\n    id: number;\r\n    name: string;\r\n    detachmentTrait?: INameEffect;\r\n    traitColor?: string;\r\n    units: ICrusadeUnit[]\r\n    battleRosterUnitIds?: number[]\r\n}\r\n\r\n","import React from \"react\";\r\nimport { ICrusadeUnit, IOutOfAction } from \"../Constants\";\r\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport { ThemeContext } from \"../App\";\r\n\r\ninterface IEditOutOfActionsProps {\r\n    unit: ICrusadeUnit;\r\n    editUnit: (edit: (u: ICrusadeUnit) => void) => void\r\n}\r\n\r\nfunction EditOutOfActions(props: IEditOutOfActionsProps): JSX.Element {\r\n    function addOutOfAction(e: React.MouseEvent) {\r\n        e.preventDefault()\r\n\r\n        props.editUnit((u) => {\r\n            let outOfActions = u.outOfAction\r\n            if (!outOfActions) {\r\n                outOfActions = [];\r\n            }\r\n\r\n            outOfActions.push({ isActive: true });\r\n            u.outOfAction = outOfActions\r\n        })\r\n    }\r\n\r\n    function editOutOfAction(edit: (o: IOutOfAction) => void, index: number): void {\r\n        props.editUnit((u) => {\r\n            const newOutOfAction = { ...u.outOfAction[index] };\r\n            edit(newOutOfAction)\r\n            u.outOfAction.splice(index, 1, newOutOfAction);\r\n        })\r\n    }\r\n\r\n    const outOfActionDisplay: JSX.Element[] = []\r\n    if (props.unit.outOfAction && props.unit.outOfAction.length > 0) {\r\n        outOfActionDisplay.push(\r\n            <Row className=\"mb-2\">\r\n                <Col>\r\n                    Battle Scar\r\n                </Col>\r\n                <Col>\r\n                    Out Of Action\r\n                </Col>\r\n            </Row>\r\n        )\r\n        props.unit.outOfAction.forEach((outOfAction, index) => {\r\n            if (!outOfAction.isActive) {\r\n                return;\r\n            }\r\n            outOfActionDisplay.push(\r\n                <Row className=\"mb-2\">\r\n                    <Col className=\"pr-1\">\r\n                        <Form.Control\r\n                            type=\"textbox\"\r\n                            onChange={e => editOutOfAction((o) => o.battleScar!.effect = e.target.value, index)}\r\n                            value={outOfAction.battleScar?.effect}\r\n                            placeholder=\"Name\"\r\n                        />\r\n                    </Col>\r\n                    <Col className=\"pl-1\">\r\n                        <Form.Control\r\n                            type=\"textbox\"\r\n                            onChange={e => editOutOfAction((o) => o.xp = Number.parseInt(e.target.value), index)}\r\n                            value={outOfAction.xp}\r\n                            placeholder=\"Effect\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Consumer>\r\n            {value =>\r\n                <Form.Group as={Row} className=\"mb-2\" controlId={`formWarlordTrait`}>\r\n                    <Col>\r\n                        <Row className=\"mb-2\">\r\n                            <Col>\r\n                                <Form.Label>\r\n                                    Out Of Action\r\n                                </Form.Label>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button\r\n                                    variant=\"outline-primary\"\r\n                                    onClick={addOutOfAction}\r\n                                    type=\"button\"\r\n                                    block\r\n                                    style={{ borderColor: value, color: value }}\r\n                                >\r\n                                    Add\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                        {outOfActionDisplay}\r\n                    </Col>\r\n                </Form.Group>\r\n            }\r\n        </ThemeContext.Consumer>\r\n    )\r\n}\r\n\r\nexport default EditOutOfActions;","import React from \"react\";\r\nimport { Form, Row, Col } from \"react-bootstrap\";\r\n\r\ninterface IFormInputProps {\r\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n    formName: string;\r\n    value?: string | number;\r\n    placeHolder?: string;\r\n    inputType: string;\r\n    resetFirstColSpan?: boolean;\r\n}\r\n\r\nfunction FormInput(props: IFormInputProps): JSX.Element {\r\n    return (\r\n        <Form.Group as={Row} className=\"mb-2\" controlId={`form${props.formName}`}>\r\n            <Col xs={props.resetFirstColSpan ? undefined : 4}>\r\n                <Form.Label>\r\n                    {props.formName}\r\n                </Form.Label>\r\n            </Col>\r\n            <Col>\r\n                <Form.Control type={props.inputType} onChange={props.onChange} value={props.value} placeholder={props.placeHolder || props.formName} />\r\n            </Col>\r\n        </Form.Group>\r\n    )\r\n}\r\n\r\nexport default FormInput;","import React from \"react\";\r\nimport { Row, Col, Form } from \"react-bootstrap\";\r\n\r\ninterface IReadOnlyRowProps {\r\n    firstColumn: string;\r\n    label?: boolean;\r\n    secondColumn: React.ReactNode;\r\n}\r\n\r\nfunction ReadOnlyRow(props: IReadOnlyRowProps): JSX.Element {\r\n    let firstColumn: React.ReactNode = props.firstColumn;\r\n    if (props.label) {\r\n        firstColumn = (\r\n            <Form.Label>\r\n                {props.firstColumn}\r\n            </Form.Label>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Row className=\"mb-2\">\r\n            <Col>\r\n                {firstColumn}\r\n            </Col>\r\n            <Col>\r\n                {props.secondColumn}\r\n            </Col>\r\n        </Row>\r\n\r\n    )\r\n}\r\n\r\nexport default ReadOnlyRow","import React, { useState } from \"react\";\r\nimport { ICrusadeUnit, BattleHonourRank } from \"../Constants\";\r\nimport { CalculateTotalExperience } from \"../Helpers/CrusadeUnitHelper\";\r\nimport EditOutOfActions from \"../CommonFields/EditOutOfActions\";\r\nimport FormInput from \"../CommonFields/FormInput\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport ReadOnlyRow from \"../CommonFields/ReadonlyRow\";\r\nimport { ThemeContext } from \"../App\";\r\n\r\ninterface IReportUnitProps {\r\n    unit: ICrusadeUnit;\r\n    updateUnit: (u: ICrusadeUnit) => void;\r\n}\r\n\r\nfunction ReportUnit(props: IReportUnitProps) {\r\n    const totalExperience = CalculateTotalExperience(props.unit) + 1;\r\n    const [initialExperience] = useState(totalExperience - 1);\r\n\r\n    let crusadePoints = 0;\r\n    let battleHonours = props.unit.battleHonours.map(battleHonour => {\r\n        crusadePoints += battleHonour.crusadePoints;\r\n\r\n        if (battleHonour.rank === BattleHonourRank.Blooded && initialExperience < 6\r\n            || battleHonour.rank === BattleHonourRank.BattleHardened && initialExperience < 16\r\n            || battleHonour.rank === BattleHonourRank.Heroic && initialExperience < 31\r\n            || battleHonour.rank === BattleHonourRank.Legendary && initialExperience < 51) {\r\n            return (\r\n                <FormInput\r\n                    resetFirstColSpan\r\n                    inputType=\"textbox\"\r\n                    onChange={event => {\r\n                        var u = { ...props.unit };\r\n                        let bh = u.battleHonours.find(b => b.rank === battleHonour.rank)\r\n                        if (!bh?.battleTrait) {\r\n                            bh!.battleTrait = {}\r\n                        }\r\n                        bh!.battleTrait.effect = event.target.value;\r\n                        props.updateUnit(u)\r\n                    }}\r\n                    formName={battleHonour.rank}\r\n                    value={battleHonour.battleTrait?.effect || \"\"}\r\n                />\r\n            )\r\n        }\r\n\r\n        return (\r\n            <ReadOnlyRow\r\n                firstColumn={battleHonour.rank}\r\n                label\r\n                secondColumn={battleHonour.battleTrait?.effect || \"\"}\r\n            />\r\n        )\r\n    });\r\n\r\n    return (\r\n        <ThemeContext.Consumer>\r\n            {value =>\r\n                <Row>\r\n                    <Col>\r\n                        <h3 className=\"mt-3\" style={{ borderTop: `1px solid ${value}` }}>\r\n                            {props.unit.name}\r\n                        </h3>\r\n                        <ReadOnlyRow\r\n                            firstColumn=\"Crusade Points\"\r\n                            label\r\n                            secondColumn={crusadePoints}\r\n                        />\r\n                        <ReadOnlyRow\r\n                            firstColumn=\"Battle Participation\"\r\n                            label\r\n                            secondColumn={`${props.unit.battleParticipation} + 1`}\r\n                        />\r\n                        <FormInput\r\n                            resetFirstColSpan\r\n                            inputType=\"number\"\r\n                            onChange={event => {\r\n                                var u = { ...props.unit };\r\n                                u.markedForGreatness = Number.parseInt(event.target.value)\r\n                                props.updateUnit(u)\r\n                            }}\r\n                            formName=\"Greatness\"\r\n                            value={props.unit.markedForGreatness}\r\n                        />\r\n                        <FormInput\r\n                            resetFirstColSpan\r\n                            inputType=\"number\"\r\n                            onChange={event => {\r\n                                var u = { ...props.unit };\r\n                                u.agendaXp = Number.parseInt(event.target.value)\r\n                                props.updateUnit(u)\r\n                            }}\r\n                            formName=\"Agenda\"\r\n                            value={props.unit.agendaXp}\r\n                        />\r\n                        <FormInput\r\n                            resetFirstColSpan\r\n                            inputType=\"number\"\r\n                            onChange={event => {\r\n                                var u = { ...props.unit };\r\n                                u.kills = Number.parseInt(event.target.value)\r\n                                props.updateUnit(u)\r\n                            }}\r\n                            formName=\"Kills\"\r\n                            value={props.unit.kills}\r\n                        />\r\n                        <ReadOnlyRow\r\n                            firstColumn=\"Total Experience\"\r\n                            label\r\n                            secondColumn={totalExperience}\r\n                        />\r\n                        {battleHonours}\r\n                        <EditOutOfActions\r\n                            unit={props.unit}\r\n                            editUnit={(edit) => {\r\n                                const u: ICrusadeUnit = {\r\n                                    ...props.unit,\r\n                                    outOfAction: [...(props.unit.outOfAction || [])]\r\n                                };\r\n                                edit(u)\r\n                                props.updateUnit(u);\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            }\r\n        </ThemeContext.Consumer>\r\n    )\r\n}\r\n\r\nexport default ReportUnit;","import React from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { ThemeContext } from \"../App\";\r\n\r\ninterface IFormButtonsProps {\r\n    primaryButtonName: string;\r\n    primaryButtonOnClick: (e: React.FormEvent | React.MouseEvent) => void;\r\n    secondaryButtonName: string;\r\n    secondaryButtonOnClick: () => void;\r\n    tertiaryButtonName?: string;\r\n    tertiaryButtonOnClick?: () => void;\r\n    color?: string;\r\n}\r\n\r\nfunction FormButtons(props: IFormButtonsProps) {\r\n    return (\r\n        <ThemeContext.Consumer>\r\n            {value =>\r\n                <Row className=\"mb-2\">\r\n                    {\r\n                        props.tertiaryButtonOnClick && props.tertiaryButtonName && (\r\n                            <Col>\r\n                                <Button\r\n                                    block\r\n                                    size=\"lg\"\r\n                                    variant=\"outline-primary\"\r\n                                    onClick={props.tertiaryButtonOnClick}\r\n                                    type=\"button\"\r\n                                    style={{ borderColor: props.color || value, color: props.color || value }}\r\n                                >\r\n                                    {props.tertiaryButtonName}\r\n                                </Button>\r\n                            </Col>\r\n                        )\r\n                    }\r\n                    <Col>\r\n                        <Button\r\n                            block\r\n                            size=\"lg\"\r\n                            variant=\"outline-primary\"\r\n                            onClick={props.secondaryButtonOnClick}\r\n                            type=\"button\"\r\n                            style={{ borderColor: props.color || value, color: props.color || value }}\r\n                        >\r\n                            {props.secondaryButtonName}\r\n                        </Button>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button\r\n                            block\r\n                            size=\"lg\"\r\n                            variant=\"primary\"\r\n                            onClick={props.primaryButtonOnClick}\r\n                            type=\"submit\"\r\n                            style={{ borderColor: props.color || value, backgroundColor: props.color || value }}\r\n                        >\r\n                            {props.primaryButtonName}\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            }\r\n        </ThemeContext.Consumer >\r\n    )\r\n}\r\n\r\nexport default FormButtons","import React, { useState } from \"react\";\r\nimport ReportUnit from \"./ReportUnit\";\r\nimport { ICrusadeArmy, ICrusadeUnit, BattleHonourRank } from \"../Constants\";\r\nimport { CalculateTotalExperience } from \"../Helpers/CrusadeUnitHelper\";\r\nimport { Row, Button } from \"react-bootstrap\";\r\nimport FormInput from \"../CommonFields/FormInput\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport FormButtons from \"../CommonFields/FormButtons\";\r\n\r\ninterface IReportUnitsProps {\r\n    crusadeArmy: ICrusadeArmy;\r\n    goBack: () => void;\r\n    updateArmy: (crusadeArmy: ICrusadeArmy) => void;\r\n}\r\n\r\nfunction ReportUnits(props: IReportUnitsProps) {\r\n    const [units, setUnits] = useState<ICrusadeUnit[]>(props.crusadeArmy.units);\r\n    const [requisitionPoints, setRequisitionPoints] = useState<number>(1)\r\n\r\n    const unitsDisplay = units.map((unit, index) => {\r\n        function updateUnit(u: ICrusadeUnit, i: number) {\r\n            const newUnits = [...units]\r\n            const totalExperience = CalculateTotalExperience(u) + 1;\r\n\r\n            if (u.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.Blooded) < 0 && totalExperience >= 6) {\r\n                u.battleHonours.push({ crusadePoints: u.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.Blooded })\r\n            }\r\n            else if (u.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.BattleHardened) < 0 && totalExperience >= 16) {\r\n                u.battleHonours.push({ crusadePoints: u.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.BattleHardened })\r\n            }\r\n            else if (u.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.Heroic) < 0 && totalExperience >= 31) {\r\n                u.battleHonours.push({ crusadePoints: u.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.Heroic })\r\n            }\r\n            else if (u.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.Legendary) < 0 && totalExperience >= 51) {\r\n                u.battleHonours.push({ crusadePoints: u.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.Legendary })\r\n            }\r\n\r\n            newUnits.splice(i, 1, u)\r\n\r\n            setUnits(newUnits);\r\n        }\r\n        if (props.crusadeArmy.battleRosterUnitIds?.includes(index)) {\r\n            return (\r\n                <ReportUnit unit={unit} updateUnit={(u) => updateUnit(u, index)} />\r\n            );\r\n        }\r\n    })\r\n\r\n    function done() {\r\n        const crusadeArmy = { ...props.crusadeArmy }\r\n        crusadeArmy.units = units;\r\n        units.forEach(u => u.battleParticipation++);\r\n        crusadeArmy.battleRosterUnitIds = undefined;\r\n        props.updateArmy(crusadeArmy)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row className=\"my-2 mx-1 header\">\r\n                <h2>\r\n                    Fill Unit Stats\r\n                </h2>\r\n            </Row>\r\n            <Form>\r\n                <FormInput\r\n                    resetFirstColSpan\r\n                    formName=\"RP\"\r\n                    inputType=\"number\"\r\n                    onChange={event => setRequisitionPoints(Number.parseInt(event.target.value))}\r\n                    value={requisitionPoints}\r\n                />\r\n                {unitsDisplay}\r\n                <FormButtons\r\n                    primaryButtonName=\"Save\"\r\n                    primaryButtonOnClick={done}\r\n                    secondaryButtonName=\"Back\"\r\n                    secondaryButtonOnClick={props.goBack}\r\n                />\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ReportUnits;","import React, { useState } from \"react\";\r\nimport { ICrusadeArmy } from \"../Constants\";\r\nimport UnitSummaryRows from \"../CommonFields/UnitSummary\";\r\nimport ReportUnits from \"./ReportUnits\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport FormButtons from \"../CommonFields/FormButtons\";\r\nimport { ThemeContext } from \"../App\";\r\n\r\ninterface IReportSummaryProps {\r\n    crusadeArmy: ICrusadeArmy;\r\n    goBack: () => void;\r\n    updateArmy: (crusadeArmy: ICrusadeArmy) => void;\r\n}\r\n\r\nfunction ReportSummary(props: IReportSummaryProps): JSX.Element | null {\r\n    const [isContinuing, setIsContinuing] = useState<boolean>();\r\n\r\n    const unitSummaries: JSX.Element[] = [];\r\n    props.crusadeArmy.battleRosterUnitIds?.forEach(id => {\r\n        const unit = props.crusadeArmy.units.find(u => u.id === id);\r\n        if (unit) {\r\n            unitSummaries.push(\r\n                <ThemeContext.Consumer>\r\n                    {value =>\r\n                        <h3 className=\"mt-3\" style={{ borderTop: `1px solid ${value}` }}>{unit.name}</h3>\r\n                    }\r\n                </ThemeContext.Consumer>\r\n            )\r\n            unitSummaries.push(\r\n                <UnitSummaryRows\r\n                    unit={unit}\r\n                    key={id}\r\n                />\r\n            )\r\n        }\r\n    })\r\n\r\n    if (isContinuing) {\r\n        return (\r\n            <ReportUnits\r\n                crusadeArmy={props.crusadeArmy}\r\n                goBack={() => setIsContinuing(false)}\r\n                updateArmy={props.updateArmy}\r\n            />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row className=\"my-2 mx-1 header\">\r\n                <h2>\r\n                    Battle Roster\r\n                </h2>\r\n            </Row>\r\n            {unitSummaries}\r\n            <FormButtons\r\n                primaryButtonName=\"Continue\"\r\n                primaryButtonOnClick={() => setIsContinuing(true)}\r\n                secondaryButtonName=\"Back\"\r\n                secondaryButtonOnClick={props.goBack}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ReportSummary;","import React, { useState } from \"react\";\r\nimport { ICrusadeArmy } from \"../Constants\";\r\nimport ReportSummary from \"./ReportSummary\";\r\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport FormButtons from \"../CommonFields/FormButtons\";\r\nimport { ThemeContext } from \"../App\";\r\n\r\ninterface IReportProps {\r\n    crusadeArmy: ICrusadeArmy;\r\n    goBack: () => void;\r\n    updateArmy: (crusadeArmy: ICrusadeArmy) => void;\r\n}\r\n\r\nfunction Report(props: IReportProps) {\r\n    const [selectedUnitIds, setSelectedUnitIds] = useState<number[]>([])\r\n\r\n    function Continue() {\r\n        const crusadeArmy = { ...props.crusadeArmy }\r\n        crusadeArmy.battleRosterUnitIds = selectedUnitIds;\r\n        props.updateArmy(crusadeArmy)\r\n    }\r\n\r\n    function RemoveSelection() {\r\n        const crusadeArmy = { ...props.crusadeArmy }\r\n        crusadeArmy.battleRosterUnitIds = undefined;\r\n        props.updateArmy(crusadeArmy)\r\n    }\r\n\r\n    function selectUnit(unitId: number) {\r\n        let newKeys = [];\r\n        if (selectedUnitIds.includes(unitId)) {\r\n            newKeys = selectedUnitIds.filter(i => i !== unitId);\r\n        }\r\n        else {\r\n            newKeys = [...selectedUnitIds, unitId]\r\n        }\r\n        setSelectedUnitIds(newKeys);\r\n    }\r\n\r\n    const display = props.crusadeArmy.units.map((unit) => {\r\n        return (\r\n            <ThemeContext.Consumer>\r\n                {value =>\r\n                    <Form.Group onClick={() => selectUnit(unit.id)} className=\"mb-1\">\r\n                        <Form.Check type=\"checkbox\" className=\"custom-control\" color={value}>\r\n                            <Form.Check.Input className=\"custom-control-input mr-1\" color={value} checked={selectedUnitIds.includes(unit.id)} style={{ position: \"relative\" }} />\r\n                            <Form.Check.Label className=\"custom-control-label\" children={`${unit.name} ${unit.powerLevel} PL`} style={{ fontWeight: \"unset\" }} />\r\n                        </Form.Check>\r\n                    </Form.Group>\r\n                }\r\n            </ThemeContext.Consumer>\r\n        )\r\n    })\r\n\r\n    let selectedPowerLevel = 0;\r\n\r\n    props.crusadeArmy.units.map((unit, index) => {\r\n        if (selectedUnitIds.includes(unit.id)) {\r\n            selectedPowerLevel += unit.powerLevel\r\n        }\r\n    })\r\n\r\n    if (props.crusadeArmy.battleRosterUnitIds) {\r\n        return (\r\n            <ReportSummary\r\n                crusadeArmy={props.crusadeArmy}\r\n                goBack={RemoveSelection}\r\n                updateArmy={props.updateArmy}\r\n            />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row className=\"my-2 mx-1 header\">\r\n                <h2>\r\n                    Select Battle Roster\r\n                </h2>\r\n            </Row>\r\n            <p>\r\n                Selected Power Level:{\" \" + selectedPowerLevel}\r\n            </p>\r\n            <Form>\r\n                {display}\r\n            </Form>\r\n            <FormButtons\r\n                primaryButtonName=\"Continue\"\r\n                primaryButtonOnClick={Continue}\r\n                secondaryButtonName=\"Back\"\r\n                secondaryButtonOnClick={props.goBack}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Report;","import React from \"react\";\r\nimport { Form, Row, Col } from \"react-bootstrap\";\r\nimport { INameEffect } from \"../Constants\";\r\n\r\ninterface IFormNameEffectInputsProps {\r\n    formName?: string;\r\n    onNameChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n    nameEffect?: INameEffect;\r\n    onEffectChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nfunction FormNameEffectInputs(props: IFormNameEffectInputsProps) {\r\n    let formHeaderLabel = undefined\r\n    if (props.formName) {\r\n        formHeaderLabel = (\r\n            <Row>\r\n                <Col>\r\n                    <Form.Label>\r\n                        {props.formName}\r\n                    </Form.Label>\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Form.Group as={Row} className=\"mb-2\" controlId={`form${props.formName}`}>\r\n            <Col>\r\n                {formHeaderLabel}\r\n                <Row>\r\n                    <Col className=\"pr-1\">\r\n                        <Form.Control\r\n                            type=\"textbox\"\r\n                            onChange={props.onNameChange}\r\n                            value={props.nameEffect?.name}\r\n                            placeholder=\"Name\"\r\n                        />\r\n                    </Col>\r\n                    <Col className=\"pl-1\">\r\n                        <Form.Control\r\n                            type=\"textbox\"\r\n                            onChange={props.onEffectChange}\r\n                            value={props.nameEffect?.effect}\r\n                            placeholder=\"Effect\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n        </Form.Group>\r\n    )\r\n}\r\n\r\nexport default FormNameEffectInputs;","import React, { useState } from \"react\";\r\nimport { ICrusadeUnit, BattleHonourRank } from \"./Constants\";\r\nimport { CalculateTotalExperience } from \"./Helpers/CrusadeUnitHelper\";\r\nimport EditOutOfActions from \"./CommonFields/EditOutOfActions\";\r\nimport DeleteIcon from \"./Resources/Icons/DeleteIcon.svg\";\r\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\r\nimport FormInput from \"./CommonFields/FormInput\";\r\nimport FormButtons from \"./CommonFields/FormButtons\";\r\nimport ReadOnlyRow from \"./CommonFields/ReadonlyRow\";\r\nimport FormNameEffectInputs from \"./CommonFields/FormNameEffectInputs\";\r\n\r\ninterface IEditUnitProps {\r\n    deleteUnit: (unit: ICrusadeUnit) => void;\r\n    goBack: () => void;\r\n    saveUnit: (unit: ICrusadeUnit) => void;\r\n    unit: ICrusadeUnit;\r\n}\r\n\r\nfunction EditUnit(props: IEditUnitProps) {\r\n    const [isNewUnit] = useState<boolean>(props.unit.name === \"\")\r\n    const [unit, setUnit] = useState<ICrusadeUnit>(props.unit);\r\n\r\n    function save(e: React.FormEvent | React.MouseEvent) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        props.saveUnit(unit)\r\n    }\r\n\r\n    function editUnit(func: (u: ICrusadeUnit) => void) {\r\n        const newUnit: ICrusadeUnit = { ...unit, battleHonours: [...unit.battleHonours], outOfAction: [...(unit.outOfAction || [])] };\r\n        func(newUnit)\r\n        const newTotalExperience = CalculateTotalExperience(newUnit);\r\n\r\n        if (newUnit.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.Blooded) < 0 && newTotalExperience >= 6) {\r\n            newUnit.battleHonours.push({ crusadePoints: newUnit.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.Blooded })\r\n        }\r\n        else if (newUnit.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.BattleHardened) < 0 && newTotalExperience >= 16) {\r\n            newUnit.battleHonours.push({ crusadePoints: newUnit.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.BattleHardened })\r\n        }\r\n        else if (newUnit.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.Heroic) < 0 && newTotalExperience >= 31) {\r\n            newUnit.battleHonours.push({ crusadePoints: newUnit.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.Heroic })\r\n        }\r\n        else if (newUnit.battleHonours.findIndex(bh => bh.rank === BattleHonourRank.Legendary) < 0 && newTotalExperience >= 51) {\r\n            newUnit.battleHonours.push({ crusadePoints: newUnit.powerLevel >= 11 ? 2 : 1, battleTrait: { effect: \"\" }, rank: BattleHonourRank.Legendary })\r\n        }\r\n\r\n        setUnit(newUnit)\r\n    }\r\n\r\n    function handleDeleteUnit(): void {\r\n        if (window.confirm(\"Are you sure you wish to delete this unit?\")) {\r\n            props.deleteUnit(props.unit);\r\n        }\r\n    }\r\n\r\n    const totalExperience = CalculateTotalExperience(unit);\r\n\r\n    let crusadePoints = 0;\r\n    let battleHonours = unit.battleHonours.map((battleHonour, index) => {\r\n        crusadePoints += battleHonour.crusadePoints;\r\n\r\n        return (\r\n            <FormInput\r\n                key={index}\r\n                formName={battleHonour.rank}\r\n                inputType=\"textbox\"\r\n                onChange={event => {\r\n                    editUnit((u) => {\r\n                        let bh = u.battleHonours.find(b => b.rank === battleHonour.rank)\r\n                        if (!bh?.battleTrait) {\r\n                            bh!.battleTrait = {}\r\n                        }\r\n                        bh!.battleTrait.effect = event.target.value;\r\n                    })\r\n                }}\r\n                value={battleHonour.battleTrait?.effect}\r\n            />\r\n        )\r\n    });\r\n\r\n    return (\r\n        <Form onSubmit={save} id=\"edit-unit\">\r\n            <Row className=\"my-2 mx-1 header\">\r\n                <h2>\r\n                    {isNewUnit ? \"Adding Unit \" : \"Editting Unit \"}\r\n                    <img\r\n                        className=\"icon\"\r\n                        src={DeleteIcon}\r\n                        alt=\"Edit Links\"\r\n                        onClick={handleDeleteUnit}\r\n                    />\r\n                </h2>\r\n            </Row>\r\n            <FormInput\r\n                formName=\"Name\"\r\n                inputType=\"textbox\"\r\n                onChange={e => editUnit((u) => u.name = e.target.value)}\r\n                value={unit.name}\r\n            />\r\n            <FormInput\r\n                formName=\"Power Level\"\r\n                inputType=\"number\"\r\n                onChange={e => editUnit((u) => u.powerLevel = Number.parseInt(e.target.value))}\r\n                value={unit.powerLevel}\r\n            />\r\n            <FormInput\r\n                formName=\"Participation\"\r\n                inputType=\"number\"\r\n                onChange={e => editUnit((u) => u.battleParticipation = Number.parseInt(e.target.value))}\r\n                value={unit.battleParticipation}\r\n            />\r\n            <FormInput\r\n                formName=\"Greatness\"\r\n                inputType=\"number\"\r\n                onChange={e => editUnit((u) => u.markedForGreatness = Number.parseInt(e.target.value))}\r\n                value={unit.markedForGreatness}\r\n            />\r\n            <FormInput\r\n                formName=\"Agenda\"\r\n                inputType=\"number\"\r\n                onChange={e => editUnit((u) => u.agendaXp = Number.parseInt(e.target.value))}\r\n                value={unit.agendaXp}\r\n            />\r\n            <FormInput\r\n                formName=\"Kills\"\r\n                inputType=\"number\"\r\n                onChange={e => editUnit((u) => u.kills = Number.parseInt(e.target.value))}\r\n                value={unit.kills}\r\n            />\r\n            <ReadOnlyRow\r\n                label\r\n                firstColumn=\"Total Experience\"\r\n                secondColumn={totalExperience}\r\n            />\r\n            {battleHonours}\r\n            <EditOutOfActions\r\n                unit={unit}\r\n                editUnit={editUnit}\r\n            />\r\n            <FormNameEffectInputs\r\n                formName=\"Warlord Trait\"\r\n                onNameChange={event => editUnit((u) => {\r\n                    if (!u.warlordTrait) {\r\n                        u.warlordTrait = {}\r\n                    }\r\n                    u.warlordTrait.name = event.target.value\r\n                })}\r\n                onEffectChange={event => editUnit((u) => {\r\n                    if (!u.warlordTrait) {\r\n                        u.warlordTrait = {}\r\n                    }\r\n                    u.warlordTrait.effect = event.target.value\r\n                })}\r\n                nameEffect={unit.warlordTrait}\r\n            />\r\n            <ReadOnlyRow\r\n                label\r\n                firstColumn=\"Crusade Points\"\r\n                secondColumn={crusadePoints}\r\n            />\r\n            <FormButtons\r\n                primaryButtonName=\"Save\"\r\n                primaryButtonOnClick={save}\r\n                secondaryButtonName=\"Back\"\r\n                secondaryButtonOnClick={props.goBack}\r\n            />\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default EditUnit","import React from \"react\";\r\n\r\nimport EditIcon from \"../Resources/Icons/EditIcon.svg\";\r\nimport { Row } from \"react-bootstrap\";\r\n\r\ninterface IHeaderProps {\r\n    crusadePoints: number;\r\n    headerText: string;\r\n    onEdit?: () => void;\r\n    powerLevel: number;\r\n}\r\n\r\nfunction Header(props: IHeaderProps): JSX.Element | null {\r\n    let editIcon = undefined;\r\n    if (props.onEdit) {\r\n        editIcon = (\r\n            <img\r\n                className=\"icon\"\r\n                src={EditIcon}\r\n                alt=\"Edit Links\"\r\n                onClick={props.onEdit}\r\n            />\r\n        )\r\n    }\r\n    return (\r\n        <Row className=\"my-2 mx-1 header\">\r\n            <h2>\r\n                {props.headerText}\r\n                {editIcon}\r\n            </h2>\r\n            <div>\r\n                <div className=\"heading-sub-header\">\r\n                    <b>{props.powerLevel + \" \"}</b>PL\r\n                </div>\r\n                <div className=\"heading-sub-header\">\r\n                    <b>{props.crusadePoints + \" \"}</b>CP\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default Header;","import React, { useState, useMemo } from \"react\";\r\nimport { ICrusadeUnit } from \"./Constants\";\r\nimport EditUnit from \"./EditUnit\";\r\nimport { CalculateCrusadePoints } from \"./Helpers/CrusadeUnitHelper\";\r\nimport Header from \"./CommonFields/Header\";\r\nimport UnitSummaryRows from \"./CommonFields/UnitSummary\";\r\nimport FormButtons from \"./CommonFields/FormButtons\";\r\n\r\ninterface IUnitDisplayProps {\r\n    deleteUnit: (unit: ICrusadeUnit) => void;\r\n    goBack: () => void;\r\n    saveUnit: (unit: ICrusadeUnit) => void;\r\n    unit: ICrusadeUnit;\r\n}\r\n\r\nfunction UnitDisplay(props: IUnitDisplayProps) {\r\n    const [isEdittingUnit, setIsEdittingUnit] = useState<boolean>(false);\r\n    const isNewUnit = useMemo<boolean>(() => { return props.unit.name === \"\" }, [])\r\n\r\n    function completeEdit(unit: ICrusadeUnit) {\r\n        props.saveUnit(unit)\r\n        setIsEdittingUnit(false)\r\n        if (isNewUnit) {\r\n            props.goBack();\r\n        }\r\n    }\r\n\r\n    if (isEdittingUnit || isNewUnit) {\r\n        return (\r\n            <EditUnit\r\n                deleteUnit={props.deleteUnit}\r\n                goBack={() => isNewUnit ? props.goBack() : setIsEdittingUnit(false)}\r\n                unit={props.unit}\r\n                saveUnit={completeEdit}\r\n            />\r\n        )\r\n    }\r\n\r\n    let crusadePoints = CalculateCrusadePoints(props.unit);\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                crusadePoints={crusadePoints}\r\n                headerText={props.unit.name}\r\n                powerLevel={props.unit.powerLevel}\r\n            />\r\n            <UnitSummaryRows unit={props.unit} />\r\n            <FormButtons\r\n                primaryButtonName=\"Edit\"\r\n                primaryButtonOnClick={() => setIsEdittingUnit(true)}\r\n                secondaryButtonName=\"Back\"\r\n                secondaryButtonOnClick={props.goBack}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UnitDisplay","import React, { useState } from \"react\";\r\nimport { ICrusadeArmy } from \"./Constants\";\r\nimport { CopyToClipboard } from \"./Helpers/Clipboard\";\r\nimport CopyIcon from \"./Resources/Icons/CopyIcon.svg\";\r\nimport DeleteIcon from \"./Resources/Icons/DeleteIcon.svg\";\r\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport FormInput from \"./CommonFields/FormInput\";\r\nimport FormNameEffectInputs from \"./CommonFields/FormNameEffectInputs\";\r\nimport { TwitterPicker, GithubPicker, CirclePicker } from \"react-color\";\r\nimport FormButtons from \"./CommonFields/FormButtons\";\r\n\r\ninterface IEditArmyProps {\r\n    crusadeArmy: ICrusadeArmy;\r\n    goBack: () => void;\r\n    handleDeleteArmy: () => void;\r\n    saveArmy: (unit: ICrusadeArmy) => void;\r\n}\r\n\r\nfunction EditArmy(props: IEditArmyProps) {\r\n    const [isNewArmy] = useState<boolean>(props.crusadeArmy.name === \"\")\r\n    const [army, setArmy] = useState<ICrusadeArmy>(props.crusadeArmy);\r\n\r\n    function editArmy(func: (a: ICrusadeArmy) => void) {\r\n        const newArmy = { ...army }\r\n        func(newArmy)\r\n        setArmy(newArmy)\r\n    }\r\n\r\n    function handleDelete(): void {\r\n        if (window.confirm(\"Are you sure you wish to delete this army?\")) {\r\n            props.handleDeleteArmy();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form onSubmit={() => props.saveArmy(army)} >\r\n                <Row className=\"my-2 mx-1 header\">\r\n                    <h2>\r\n                        {isNewArmy ? \"Add Army\" : \"Edit Army\"}\r\n                        <img\r\n                            className=\"icon\"\r\n                            src={DeleteIcon}\r\n                            alt=\"Edit Links\"\r\n                            onClick={handleDelete}\r\n                        />\r\n                    </h2>\r\n                </Row>\r\n                <FormInput\r\n                    formName=\"Name\"\r\n                    onChange={e => editArmy((a) => a.name = e.target.value)}\r\n                    inputType=\"textbox\"\r\n                    value={army.name}\r\n                />\r\n                <FormNameEffectInputs\r\n                    formName=\"Trait\"\r\n                    onNameChange={e => editArmy((a) => {\r\n                        if (!a.detachmentTrait) {\r\n                            a.detachmentTrait = {}\r\n                        }\r\n                        a.detachmentTrait.name = e.target.value\r\n                    })}\r\n                    nameEffect={army.detachmentTrait}\r\n                    onEffectChange={e => editArmy((a) => {\r\n                        if (!a.detachmentTrait) {\r\n                            a.detachmentTrait = {}\r\n                        }\r\n                        a.detachmentTrait.effect = e.target.value\r\n                    })}\r\n                />\r\n                <Row className=\"mb-2\">\r\n                    <Col>\r\n                        <CirclePicker\r\n                            width=\"90vw\"\r\n                            onChange={c => editArmy((a) => a.traitColor = c.hex)}\r\n                            color={army.traitColor || \"blue\"}\r\n                            colors={[\"#FF0000\", \"#0000FF\", \"#ebdb00\", \"#6b6b6b\", \"#00a00d\"]}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"mb-2\">\r\n                    <Col>\r\n                        <Form.Label>\r\n                            Copy from Clipboard\r\n                        </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <img\r\n                            className=\"icon\"\r\n                            src={CopyIcon}\r\n                            alt=\"Edit Links\"\r\n                            onClick={() => CopyToClipboard(props.crusadeArmy)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"mb-2\">\r\n                    <Col>\r\n                        <Form.Control\r\n                            as=\"textarea\"\r\n                            rows={5}\r\n                            onChange={e => {\r\n                                const newArmy = JSON.parse(e.target.value)\r\n                                newArmy.id = army.id;\r\n                                setArmy(newArmy)\r\n                            }}\r\n                            value={JSON.stringify(army)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <FormButtons\r\n                    primaryButtonName=\"Save\"\r\n                    primaryButtonOnClick={() => props.saveArmy(army)}\r\n                    secondaryButtonName=\"Back\"\r\n                    secondaryButtonOnClick={props.goBack}\r\n                    color={army.traitColor}\r\n                />\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EditArmy;","import { ICrusadeArmy } from \"../Constants\";\r\n\r\nexport function CopyToClipboard(army: ICrusadeArmy) {\r\n    if (!navigator.clipboard) {\r\n        window.alert(\"Can't copy to clipboard\")\r\n        return;\r\n    }\r\n\r\n    const jsonCrusadeArmy = JSON.stringify(army);\r\n    navigator.clipboard.writeText(jsonCrusadeArmy).then(() => {\r\n        window.alert(\"Copied to clipboard\")\r\n    }).catch(() => {\r\n        window.alert(\"Can't copy to clipboard\")\r\n    })\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport Report from \"./Report/Report\";\r\nimport { ICrusadeArmy, ICrusadeUnit, BattleHonourRank } from \"./Constants\";\r\nimport UnitDisplay from \"./UnitDisplay\";\r\nimport EditArmy from \"./EditArmy\";\r\nimport { CalculateCrusadePoints } from \"./Helpers/CrusadeUnitHelper\";\r\nimport Header from \"./CommonFields/Header\";\r\nimport { Button, ButtonGroup, Row, Col } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport { ThemeContext } from \"./App\";\r\nimport FormButtons from \"./CommonFields/FormButtons\";\r\nimport NameEffectsCard from \"./CommonFields/UnitSummaryCard\";\r\n\r\n\r\ninterface ICrusadeArmyRoster {\r\n    crusadeArmy: ICrusadeArmy;\r\n    deleteArmy: (crusadeArmy: ICrusadeArmy) => void;\r\n    goBack: () => void;\r\n    updateArmy: (crusadeArmy: ICrusadeArmy) => void;\r\n}\r\n\r\nfunction CrusadeArmyRoster(props: ICrusadeArmyRoster) {\r\n    const [edittingUnit, setEdittingUnit] = useState<ICrusadeUnit>()\r\n    const [isEditting, setIsEditting] = useState<boolean>()\r\n    const [isReporting, setIsReporting] = useState<boolean>()\r\n    const [unitsDisplay, setUnitsDisplay] = useState<JSX.Element[]>()\r\n\r\n    useEffect(() => {\r\n        const display = props.crusadeArmy.units.map(unit => {\r\n            const highestRank = unit.battleHonours[unit.battleHonours.length - 1]?.rank ?? BattleHonourRank.BattleReady;\r\n            const crusadePoints = CalculateCrusadePoints(unit)\r\n\r\n            return (\r\n                <tr\r\n                    key={unit.id}\r\n                    className=\"read-only-display-item\"\r\n                    onClick={() => setEdittingUnit(unit)}\r\n                >\r\n                    <td>\r\n                        {unit.name}\r\n                    </td>\r\n                    <td style={{ whiteSpace: \"nowrap\" }}>\r\n                        {highestRank}\r\n                    </td>\r\n                    <td>\r\n                        {crusadePoints}\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n\r\n        setUnitsDisplay(display);\r\n    }, [props.crusadeArmy, edittingUnit, isReporting])\r\n\r\n    function addUnit() {\r\n        let highestId = 0\r\n        props.crusadeArmy.units.forEach(unit => {\r\n            if (unit.id > highestId) {\r\n                highestId = unit.id\r\n            }\r\n        })\r\n        const newUnit: ICrusadeUnit = {\r\n            id: highestId + 1,\r\n            agendaXp: 0,\r\n            battleHonours: [],\r\n            battleParticipation: 0,\r\n            crusadePoints: 0,\r\n            kills: 0,\r\n            markedForGreatness: 0,\r\n            name: \"\",\r\n            notes: \"\",\r\n            outOfAction: [],\r\n            powerLevel: 0\r\n        }\r\n\r\n        setEdittingUnit(newUnit);\r\n    }\r\n\r\n    function saveUnit(unit: ICrusadeUnit) {\r\n        const crusadeArmy = { ...props.crusadeArmy }\r\n        var existingIndex = crusadeArmy.units.findIndex(u => u.id === unit.id);\r\n        if (existingIndex >= 0) {\r\n            crusadeArmy.units.splice(existingIndex, 1, unit);\r\n        }\r\n        else {\r\n            crusadeArmy.units.push(unit);\r\n        }\r\n\r\n        props.updateArmy(crusadeArmy)\r\n        setEdittingUnit(unit);\r\n    }\r\n\r\n    function deleteUnit(unit: ICrusadeUnit): void {\r\n        const crusadeArmy = { ...props.crusadeArmy }\r\n        var existingIndex = crusadeArmy.units.findIndex(u => u.id === unit.id);\r\n        if (existingIndex >= 0) {\r\n            crusadeArmy.units.splice(existingIndex, 1);\r\n        }\r\n\r\n        props.updateArmy(crusadeArmy)\r\n        setEdittingUnit(undefined);\r\n    }\r\n\r\n    function saveArmy(army: ICrusadeArmy) {\r\n        props.updateArmy(army);\r\n        setIsReporting(false);\r\n        setIsEditting(false);\r\n    }\r\n\r\n    let crusadePoints = 0;\r\n    let powerLevel = 0;\r\n    props.crusadeArmy.units.forEach(unit => {\r\n        crusadePoints += CalculateCrusadePoints(unit);\r\n        powerLevel += unit.powerLevel;\r\n    });\r\n\r\n    if (isEditting) {\r\n        return (\r\n            <EditArmy\r\n                crusadeArmy={props.crusadeArmy}\r\n                goBack={() => setIsEditting(false)}\r\n                handleDeleteArmy={() => props.deleteArmy(props.crusadeArmy)}\r\n                saveArmy={saveArmy}\r\n            />\r\n        )\r\n    }\r\n    else if (isReporting || props.crusadeArmy.battleRosterUnitIds) {\r\n        return (\r\n            <Report\r\n                crusadeArmy={props.crusadeArmy}\r\n                goBack={() => setIsReporting(false)}\r\n                updateArmy={saveArmy}\r\n            />\r\n        )\r\n    }\r\n    else if (edittingUnit) {\r\n        return (\r\n            <UnitDisplay\r\n                deleteUnit={deleteUnit}\r\n                goBack={() => setEdittingUnit(undefined)}\r\n                saveUnit={saveUnit}\r\n                unit={edittingUnit}\r\n            />\r\n        )\r\n    }\r\n\r\n    let unitsTableDisplay = null;\r\n    if (unitsDisplay?.length !== 0) {\r\n        unitsTableDisplay = (\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Rank</th>\r\n                        <th>CP</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {unitsDisplay}\r\n                </tbody>\r\n            </Table>\r\n        )\r\n    }\r\n\r\n    let detachmentTraitCard = undefined\r\n    if (props.crusadeArmy.detachmentTrait) {\r\n        detachmentTraitCard = (\r\n            <NameEffectsCard\r\n                header=\"Detachment Trait\"\r\n                nameEffects={[props.crusadeArmy.detachmentTrait]}\r\n            />\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <Header\r\n                crusadePoints={crusadePoints}\r\n                headerText={props.crusadeArmy.name}\r\n                powerLevel={powerLevel}\r\n                onEdit={() => setIsEditting(true)}\r\n            />\r\n            {detachmentTraitCard}\r\n            <Row>\r\n                <Col>\r\n                    {unitsTableDisplay}\r\n                </Col>\r\n            </Row>\r\n            <FormButtons\r\n                primaryButtonName=\"Log\"\r\n                primaryButtonOnClick={() => setIsReporting(true)}\r\n                secondaryButtonName=\"Add\"\r\n                secondaryButtonOnClick={addUnit}\r\n                tertiaryButtonName=\"Back\"\r\n                tertiaryButtonOnClick={props.goBack}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CrusadeArmyRoster;","import React, { useState, useEffect } from \"react\";\r\nimport CrusadeArmyRoster from \"./CrusadeArmyRoster\";\r\nimport { ICrusadeArmy, CRUSADE_ARMIES_STORAGE_KEY } from \"./Constants\";\r\nimport EditArmy from \"./EditArmy\";\r\nimport { CalculateCrusadePoints } from \"./Helpers/CrusadeUnitHelper\";\r\nimport { Button, Row, Col, Card } from \"react-bootstrap\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { ThemeContext } from \"./App\";\r\n\r\nfunction ArmiesList() {\r\n    const [edittingArmy, setEdittingArmy] = useState<ICrusadeArmy>()\r\n    const [crusadeArmies, setCrusadeArmies] = useState<ICrusadeArmy[]>();\r\n    const [selectedCrusadeArmy, setSelectedCrusadeArmy] = useState<ICrusadeArmy>();\r\n    const [crusadeArmiesDisplay, setCrusadeArmiesDisplay] = useState<JSX.Element[]>();\r\n\r\n    useEffect(() => {\r\n        const storageCrusadeArmies: ICrusadeArmy[] = JSON.parse(window.localStorage.getItem(CRUSADE_ARMIES_STORAGE_KEY) || \"[]\");\r\n        setCrusadeArmies(storageCrusadeArmies);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!crusadeArmies) {\r\n            return;\r\n        }\r\n\r\n        const display = crusadeArmies.map((crusadeArmy, index) => {\r\n            let crusadePoints = 0;\r\n            let powerLevel = 0;\r\n            crusadeArmy.units.forEach(unit => {\r\n                crusadePoints += CalculateCrusadePoints(unit);\r\n                powerLevel += unit.powerLevel;\r\n            })\r\n\r\n            return (\r\n                <Card\r\n                    className=\"mb-3\"\r\n                    key={index}\r\n                    onClick={() => setSelectedCrusadeArmy(crusadeArmy)}\r\n                    style={{ border: `1px solid ${crusadeArmy.traitColor || \"rgb(0, 123, 255)\"}` }} >\r\n                    <Card.Body>\r\n                        <Card.Title as=\"h2\">\r\n                            {crusadeArmy.name}\r\n                        </Card.Title>\r\n                        <Card.Text>\r\n                            {powerLevel + \" PL \"}\r\n                            {crusadePoints + \" CP\"}\r\n                        </Card.Text>\r\n                    </Card.Body>\r\n                </Card>\r\n            )\r\n        });\r\n\r\n        setCrusadeArmiesDisplay(display);\r\n    }, [crusadeArmies])\r\n\r\n    function updateArmy(crusadeArmy: ICrusadeArmy) {\r\n        const storageCrusadeArmies: ICrusadeArmy[] = JSON.parse(window.localStorage.getItem(CRUSADE_ARMIES_STORAGE_KEY) || \"[]\");\r\n        const crusadeArmyIndex = storageCrusadeArmies.findIndex(army => army.id === crusadeArmy.id)\r\n        if (crusadeArmyIndex >= 0) {\r\n            storageCrusadeArmies.splice(crusadeArmyIndex, 1, crusadeArmy)\r\n        }\r\n        else {\r\n            storageCrusadeArmies.push(crusadeArmy);\r\n        }\r\n\r\n        window.localStorage.setItem(CRUSADE_ARMIES_STORAGE_KEY, JSON.stringify(storageCrusadeArmies));\r\n        setCrusadeArmies(storageCrusadeArmies)\r\n\r\n        const selectedArmy = storageCrusadeArmies.find(sca => sca.id === crusadeArmy.id);\r\n        setSelectedCrusadeArmy(selectedArmy)\r\n    }\r\n\r\n    function addArmy() {\r\n        const newArmy: ICrusadeArmy = { name: \"\", id: crusadeArmies?.length ?? 0, units: [] }\r\n        setEdittingArmy(newArmy)\r\n    }\r\n\r\n    function deleteArmy(deletingArmy: ICrusadeArmy) {\r\n        const storageCrusadeArmies: ICrusadeArmy[] = JSON.parse(window.localStorage.getItem(CRUSADE_ARMIES_STORAGE_KEY) || \"[]\");\r\n        const crusadeArmyIndex = storageCrusadeArmies.findIndex(army => army.id === deletingArmy.id)\r\n        if (crusadeArmyIndex >= 0) {\r\n            storageCrusadeArmies.splice(crusadeArmyIndex, 1)\r\n        }\r\n\r\n        window.localStorage.setItem(CRUSADE_ARMIES_STORAGE_KEY, JSON.stringify(storageCrusadeArmies));\r\n        setCrusadeArmies(storageCrusadeArmies)\r\n        setSelectedCrusadeArmy(undefined)\r\n    }\r\n\r\n    if (edittingArmy) {\r\n        return (\r\n            <EditArmy\r\n                crusadeArmy={edittingArmy}\r\n                handleDeleteArmy={() => deleteArmy(edittingArmy)}\r\n                goBack={() => setEdittingArmy(undefined)}\r\n                saveArmy={updateArmy}\r\n            />\r\n        )\r\n    }\r\n\r\n    if (selectedCrusadeArmy) {\r\n        return (\r\n            <ThemeContext.Provider value={selectedCrusadeArmy.traitColor || \"blue\"}>\r\n                <CrusadeArmyRoster\r\n                    deleteArmy={deleteArmy}\r\n                    crusadeArmy={selectedCrusadeArmy}\r\n                    goBack={() => setSelectedCrusadeArmy(undefined)}\r\n                    updateArmy={updateArmy}\r\n                />\r\n            </ThemeContext.Provider>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row className=\"my-2 mx-1 header\">\r\n                <h2>\r\n                    Crusade Armies\r\n                </h2>\r\n            </Row>\r\n            <Row className=\"flex-grow-1\" style={{ overflow: \"auto\" }}>\r\n                <Col >\r\n                    {crusadeArmiesDisplay}\r\n                </Col>\r\n            </Row>\r\n            <Row md=\"2\">\r\n                <Col xs={4}>\r\n                    <Button\r\n                        block\r\n                        size=\"lg\"\r\n                        variant=\"primary\"\r\n                        onClick={addArmy}\r\n                    >\r\n                        Add\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ArmiesList;","import React from 'react';\r\nimport './App.scss';\r\nimport ArmiesList from './ArmiesList';\r\nimport { Container } from 'react-bootstrap';\r\n\r\nexport const ThemeContext = React.createContext(\"blue\");\r\n\r\nfunction App() {\r\n\r\n    return (\r\n        <Container fluid className=\"h-100\">\r\n            <ArmiesList />\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/DeleteIcon.0d10f8f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/EditIcon.aa0b5ae2.svg\";","module.exports = __webpack_public_path__ + \"static/media/CopyIcon.49972eac.svg\";"],"sourceRoot":""}